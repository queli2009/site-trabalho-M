!function(){var Sizzle=(function(e){var t,n,r,i,o,u,l,a,c,s,f,d,p,h,g,m,y,w,v,b="sizzle"+1*new Date,N=e.document,x=0,C=0,E=oe(),D=oe(),A=oe(),T=function(e,t){return e===t&&(f=!0),0},S={}.hasOwnProperty,L=[],I=L.pop,q=L.push,B=L.push,R=L.slice,$=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+P+"*("+H+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+P+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",O=new RegExp(P+"+","g"),j=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),z=new RegExp("^"+P+"*,"+P+"*"),G=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),U=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),V=new RegExp(F),X=new RegExp("^"+H+"$"),J={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,W=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=ye(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{B.apply(L=R.call(N.childNodes),N.childNodes),L[N.childNodes.length].nodeType}catch(e){B={apply:L.length?function(e,t){q.apply(e,R.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function ie(e,t,r,i){var o,l,c,s,f,h,y,w=t&&t.ownerDocument,x=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return r;if(!i&&((t?t.ownerDocument||t:N)!==p&&d(t),t=t||p,g)){if(11!==x&&(f=Y.exec(e)))if(o=f[1]){if(9===x){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(w&&(c=w.getElementById(o))&&v(t,c)&&c.id===o)return r.push(c),r}else{if(f[2])return B.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return B.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!A[e+" "]&&(!m||!m.test(e))){if(1!==x)w=t,y=e;else if("object"!==t.nodeName.toLowerCase()){(s=t.getAttribute("id"))?s=s.replace(te,ne):t.setAttribute("id",s=b),h=u(e),l=h.length;while(l--)h[l]="#"+s+" "+me(h[l]);y=h.join(","),w=Z.test(e)&&he(t.parentNode)||t}if(y)try{return B.apply(r,w.querySelectorAll(y)),r}catch(e){}finally{s===b&&t.removeAttribute("id")}}}return a(e.replace(j,"$1"),t,r,i)}function oe(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function ue(e){return e[b]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ae(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function se(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return ue(function(t){return t=+t,ue(function(n,r){var i,o=e([],n.length,t),u=o.length;while(u--)n[i=o[u]]&&(n[i]=!(r[i]=n[i]))})})}function he(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ie.setDocument=function(e){var t,i=e?e.ownerDocument||e:N;return i!==p&&9===i.nodeType&&i.documentElement?(p=i,h=p.documentElement,g=!o(p),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=W.test(p.getElementsByClassName),n.getById=le(function(e){return h.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(_,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(_,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],m=[],(n.qsa=W.test(p.querySelectorAll))&&(le(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+P+"*(?:value|"+k+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=W.test(w=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&le(function(e){n.disconnectedMatch=w.call(e,"*"),w.call(e,"[s!='']:x"),y.push("!=",F)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=W.test(h.compareDocumentPosition),v=t||W.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===N&&v(N,e)?-1:t===p||t.ownerDocument===N&&v(N,t)?1:s?$(s,e)-$(s,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:s?$(s,e)-$(s,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?ce(u[r],l[r]):u[r]===N?-1:l[r]===N?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(U,"='$1']"),n.matchesSelector&&g&&!A[t+" "]&&(!y||!y.test(t))&&(!m||!m.test(t)))try{var r=w.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),v(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&S.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.escape=function(e){return(e+"").replace(te,ne)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,s=!n.sortStable&&e.slice(0),e.sort(T),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return s=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ie.selectors={cacheLength:50,createPseudo:ue,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(_,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(O," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),u="last"!==e.slice(-4),l="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var c,s,f,d,p,h,g=o!==u?"nextSibling":"previousSibling",m=t.parentNode,y=l&&t.nodeName.toLowerCase(),w=!a&&!l,v=!1;if(m){if(o){while(g){d=t;while(d=d[g])if(l?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[u?m.firstChild:m.lastChild],u&&w){d=m,f=d[b]||(d[b]={}),s=f[d.uniqueID]||(f[d.uniqueID]={}),c=s[e]||[],p=c[0]===x&&c[1],v=p&&c[2],d=p&&m.childNodes[p];while(d=++p&&d&&d[g]||(v=p=0)||h.pop())if(1===d.nodeType&&++v&&d===t){s[e]=[x,p,v];break}}else if(w&&(d=t,f=d[b]||(d[b]={}),s=f[d.uniqueID]||(f[d.uniqueID]={}),c=s[e]||[],p=c[0]===x&&c[1],v=p),v===!1)while(d=++p&&d&&d[g]||(v=p=0)||h.pop())if((l?d.nodeName.toLowerCase()===y:1===d.nodeType)&&++v&&(w&&(f=d[b]||(d[b]={}),s=f[d.uniqueID]||(f[d.uniqueID]={}),s[e]=[x,v]),d===t))break;return v-=i,v===r||v%r===0&&v/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){var r,o=i(e,t),u=o.length;while(u--)r=$(e,o[u]),e[r]=!(n[r]=o[u])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ue(function(e){var t=[],n=[],r=l(e.replace(j,"$1"));return r[b]?ue(function(e,t,n,i){var o,u=r(e,null,i,[]),l=e.length;while(l--)(o=u[l])&&(e[l]=!(t[l]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return ie(e,t).length>0}}),contains:ue(function(e){return e=e.replace(_,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ue(function(e){return X.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(_,ee).toLowerCase(),function(t){var n;do if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=se(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function ge(){}ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,u=ie.tokenize=function(e,t){var n,i,o,u,l,a,c,s=D[e+" "];if(s)return t?0:s.slice(0);l=e,a=[],c=r.preFilter;while(l){n&&!(i=z.exec(l))||(i&&(l=l.slice(i[0].length)||l),a.push(o=[])),n=!1,(i=G.exec(l))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),l=l.slice(n.length));for(u in r.filter)!(i=J[u].exec(l))||c[u]&&!(i=c[u](i))||(n=i.shift(),o.push({value:n,type:u,matches:i}),l=l.slice(n.length));if(!n)break}return t?l.length:l?ie.error(e):D(e,a).slice(0)};function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,o=i||r,u=n&&"parentNode"===o,l=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||u)return e(t,n,i);return!1}:function(t,n,a){var c,s,f,d=[x,l];if(a){while(t=t[r])if((1===t.nodeType||u)&&e(t,n,a))return!0}else while(t=t[r])if(1===t.nodeType||u)if(f=t[b]||(t[b]={}),s=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=s[o])&&c[0]===x&&c[1]===l)return d[2]=c[2];if(s[o]=d,d[2]=e(t,n,a))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ve(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}function be(e,t,n,r,i){for(var o,u=[],l=0,a=e.length,c=null!=t;l<a;l++)(o=e[l])&&(n&&!n(o,r,i)||(u.push(o),c&&t.push(l)));return u}function Ne(e,t,n,r,i,o){return r&&!r[b]&&(r=Ne(r)),i&&!i[b]&&(i=Ne(i,o)),ue(function(o,u,l,a){var c,s,f,d=[],p=[],h=u.length,g=o||ve(t||"*",l.nodeType?[l]:l,[]),m=!e||!o&&t?g:be(g,d,e,l,a),y=n?i||(o?e:h||r)?[]:u:m;if(n&&n(m,y,l,a),r){c=be(y,p),r(c,[],l,a),s=c.length;while(s--)(f=c[s])&&(y[p[s]]=!(m[p[s]]=f))}if(o){if(i||e){if(i){c=[],s=y.length;while(s--)(f=y[s])&&c.push(m[s]=f);i(null,y=[],c,a)}s=y.length;while(s--)(f=y[s])&&(c=i?$(o,f):d[s])>-1&&(o[c]=!(u[c]=f))}}else y=be(y===u?y.splice(h,y.length):y),i?i(null,u,y,a):B.apply(u,y)})}function xe(e){for(var t,n,i,o=e.length,u=r.relative[e[0].type],l=u||r.relative[" "],a=u?1:0,s=ye(function(e){return e===t},l,!0),f=ye(function(e){return $(t,e)>-1},l,!0),d=[function(e,n,r){var i=!u&&(r||n!==c)||((t=n).nodeType?s(e,n,r):f(e,n,r));return t=null,i}];a<o;a++)if(n=r.relative[e[a].type])d=[ye(we(d),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[b]){for(i=++a;i<o;i++)if(r.relative[e[i].type])break;return Ne(a>1&&we(d),a>1&&me(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(j,"$1"),n,a<i&&xe(e.slice(a,i)),i<o&&xe(e=e.slice(i)),i<o&&me(e))}d.push(n)}return we(d)}function Ce(e,t){var n=t.length>0,i=e.length>0,o=function(o,u,l,a,s){var f,h,m,y=0,w="0",v=o&&[],b=[],N=c,C=o||i&&r.find.TAG("*",s),E=x+=null==N?1:Math.random()||.1,D=C.length;for(s&&(c=u===p||u||s);w!==D&&null!=(f=C[w]);w++){if(i&&f){h=0,u||f.ownerDocument===p||(d(f),l=!g);while(m=e[h++])if(m(f,u||p,l)){a.push(f);break}s&&(x=E)}n&&((f=!m&&f)&&y--,o&&v.push(f))}if(y+=w,n&&w!==y){h=0;while(m=t[h++])m(v,b,u,l);if(o){if(y>0)while(w--)v[w]||b[w]||(b[w]=I.call(a));b=be(b)}B.apply(a,b),s&&!o&&b.length>0&&y+t.length>1&&ie.uniqueSort(a)}return s&&(x=E,c=N),v};return n?ue(o):o}return l=ie.compile=function(e,t){var n,r=[],i=[],o=A[e+" "];if(!o){t||(t=u(e)),n=t.length;while(n--)o=xe(t[n]),o[b]?r.push(o):i.push(o);o=A(e,Ce(i,r)),o.selector=e}return o},a=ie.select=function(e,t,n,i){var o,a,c,s,f,d="function"==typeof e&&e,p=!i&&u(e=d.selector||e);if(n=n||[],1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(c=a[0]).type&&9===t.nodeType&&g&&r.relative[a[1].type]){if(t=(r.find.ID(c.matches[0].replace(_,ee),t)||[])[0],!t)return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}o=J.needsContext.test(e)?0:a.length;while(o--){if(c=a[o],r.relative[s=c.type])break;if((f=r.find[s])&&(i=f(c.matches[0].replace(_,ee),Z.test(a[0].type)&&he(t.parentNode)||t))){if(a.splice(o,1),e=i.length&&me(a),!e)return B.apply(n,i),n;break}}}return(d||l(e,p))(i,t,!g,n,!t||Z.test(e)&&he(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ae("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ae("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ae(k,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie})(window);
;var a="6314",i="/p/cp/",n="/track",t=864e5,o=4*t,e=7*t,s=365*t,r=730*t-t,c=/^anon-\d{13}-\d{1,11}$/,p={mibhv:"_mibhv",micpn:"_micpn",midat:"_midat",optOut:"_mioptout"},u=1e3,h=500,l=4*h,m=40*h;function d(){try{var t=window.localStorage,e="storage_test";return t.setItem(e,e),t.removeItem(e),!0}catch(r){return g.log.error("Unable to access window.localStorage"),!1}}function f(){try{return JSON.stringify([]),!0}catch(t){return g.log.error("Unable to parse JSON"),!1}}function v(t){function e(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];e.push(v(i))}return e.join("|")}function r(t){var e=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];"string"==typeof i&&(i=n(i)),e.push([n(r),i].join(":"))}return e.join(",")}function n(t){return t.replace(/[|,:]/g," ")}return"[object Array]"===Object.prototype.toString.call(t)?e(t):"object"==typeof t?r(t):"string"==typeof t?n(t):t}var g={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},bind:function(t,e){return function(){return e.apply(t,arguments)}},addListener:function(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&t.attachEvent("on"+e,r)},removeListener:function(t,e,r){t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent&&t.detachEvent("on"+e,r)},createUUID:function(){var r=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==t?e:3&e|8).toString(16)})},bubbledMatchesSelector:function(t,e,r){for(var i=t,n=0;n<(r||5);n++){if(null===i)return!1;if(Sizzle.matchesSelector(i,e))return!0;i=i.parentElement}return!1},cleanUserIdentifier:function(t){return t.replace(/[^\w.\+\-@/=]/gi,"")},cleanCampaign:function(t){return t.replace(/[^\w.\-@~]/gi,"")},cleanObject:function(t){for(var e in t)t.hasOwnProperty(e)&&!g.trim(t[e].toString())&&delete t[e];return t},isEmptyObject:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},merge:function(t){if(arguments.length&&"object"==typeof t){for(var e=Array.prototype.slice.call(arguments,1),r=0,i=e.length;r<i;r++)for(var n in e[r])e[r].hasOwnProperty(n)&&(t[n]=e[r][n]);return t}},setAttributes:function(t,e){for(var r in e)e.hasOwnProperty(r)&&t.setAttribute(r,e[r])},storage:{parseCookie:function(t){for(var e={},r=t.split(";"),i=0;i<r.length;i++){var n=g.trim(r[i]).split("="),o=n[0],a=n.slice(1).join("=");0===i?(e.name=o,e.value=a):e[o.toLowerCase()]=a}return e},createCookie:function(t,e,r,i,n){var o=e+"; Expires="+new Date(r).toUTCString()+"; Path=/;";i&&(o+=" Domain="+i+";"),!0===n&&(o+=" Secure;",o+=" SameSite=None;");var a=t+"="+o;return document.cookie=a,o},create:function(t,e,r,i,n){var o=g.storage.createCookie(t,e,r,i,n);try{window.localStorage.setItem(t,o)}catch(a){g.log.error(a)}},remove:function(t,e,r){g.storage.createCookie(t,"",0,e,r),g.storage.createCookie(t,"",0,null,r),g.isSupportedBrowser&&window.localStorage.removeItem(t)}},log:{debug:function(t){window.location.hash.match(/midebug/)&&console.log(t)},error:function(t){window.location.hash.match(/midebug/)&&console.error(t)}}};function y(t){if("string"==typeof t){if("?"===t[0]&&(t=t.substring(1)),!t)return;for(var e=t.split("&"),r=0;r<e.length;r++){var i=e[r].split("="),n=i[0]||"",o=i.slice(1).join("=");try{n=decodeURIComponent(n),o=decodeURIComponent(o),"mi_u"!==n&&(o=o.replace(/\+/g," ")),this[n]=o}catch(a){g.log.error(a);continue}}}else if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&t[n]&&(this[n]=t[n])}function b(t){this.tracker=t,this.pollInterval=1e3,this.handlers={},this.elements={}}function k(){this.id=g.createUUID()}function I(){var t,e;return"anon-"+(new Date).getTime()+"-"+Math.ceil(1e10*Math.random())}function _(t,e){var r=t.timestamp.getTime(),i=r+o,n={performImageId:t.performImageId||"esp",key:t.key||"-1",espKey:t.espKey?encodeURIComponent(t.espKey):undefined,deploymentTacticVersionId:t.deploymentTacticVersionId,tacticVersionId:t.tacticVersionId,tacticBlockId:t.tacticBlockId,tacticBlockItemIndex:t.tacticBlockItemIndex,appCanvasKey:t.appCanvasKey,tacticIsControl:t.tacticIsControl,timestamp:r};g.storage.create(p.micpn,btoa(JSON.stringify(n)),i,e.domain,e.secure)}function w(t,e,r){var i=(new Date).getTime()+s,n=[t,e].join("_");g.storage.create(p.mibhv,n,i,r.domain,r.secure)}function E(t){var e=(new Date).getTime()+r;g.storage.create(p.optOut,"1",e,t.domain,t.secure)}function P(t){return t&&c.test(t)}function D(t,e,r){return r&&t&&e&&t!==e}function C(t){var e;return(e="{"===t[0]?JSON.parse(t):JSON.parse(atob(t))).espKey&&(e.espKey=decodeURIComponent(e.espKey)),e.timestamp&&(e.timestamp=new Date(parseInt(e.timestamp,10))),e}function A(t){var e=t&&t.match(/^(.+)_(\d+)$/);return e&&{user:e[1],companyId:e[2],anonymous:P(e[1])}}function O(){return{key:"-1",espKey:"",performImageId:"",deploymentTacticVersionId:"",tacticVersionId:"",tacticBlockId:"",tacticBlockItemIndex:"",appCanvasKey:"",tacticIsControl:"",timestamp:new Date}}function S(t){this.tracker=t,this.bubbledEvents={}}function R(t){this.tracker=t,this.billing=new k,this.enableData=!0,this.clearSavedData=!1,this.data=new y,this.cookieData=R.parseDataCookie(this.tracker.cookies[p.midat]),this.customJsData=new y,this.urlData=this.getUrlParams(),this.enableDynamicInsertion=false,this.isPreview="true"===this.tracker.urlParams[R.PREVIEW_PARAM]}function x(){var t="MovableInkTrack",e=x.getLocalStorage();this.cookies=g.merge(e,x.getCookies()),this.trackingFunctionName=window[t]||"_miconv",this.trackingFunction=window[this.trackingFunctionName]||[],this.queue=this.trackingFunction.q||window._miconv||[],this.urlParams=new y(window.location.search),this.customJS=new S(this),this.elementEventPoller=new b(this),this.webContent=new R(this),this.cookieOptions={domain:null,secure:"https"===x.DOMAINS.protocol},this.linked=!1}g.isSupportedBrowser=d()&&f(),y.prototype.encode=function(){var t=[];for(var e in this)if(this.hasOwnProperty(e)&&this[e]){var r=this[e];"string"!=typeof r&&(r=v(r));var i=[encodeURIComponent(e),encodeURIComponent(r)].join("=");t.push(i)}return t.join("&")},b.prototype.start=function(){setInterval(g.bind(this,this.poll),this.pollInterval)},b.prototype.poll=function(){for(var t in this.elements)if(this.elements.hasOwnProperty(t)){var e=Sizzle(t)[0],r=this.elements[t];if((this.elements[t]=e)&&!r)for(var i in this.handlers[t])this.handlers[t].hasOwnProperty(i)&&g.addListener(e,"click",this.handlers[t][i])}},b.prototype.add=function(t,e,r){var i=this,n;if(n=e?function(){i.tracker.push(t,i.tracker.customJS._expandPageData(e))}:function(){i.tracker.push(t)},this.handlers[r]||(this.handlers[r]={}),!this.handlers[r][t]){this.handlers[r][t]=n;var o=Sizzle(r)[0];if(o)return g.addListener(o,"click",n),void 0;this.elements[r]=null}},S.ATTRIBUTES={"product":["title","id","price","url","categories","meta","image"],"category":["title","id","url"],"cart_add":["title","id","price","url","categories","meta"],"cart_remove":["title","id","price","url","categories","meta"],"search":["search_term","url"]},S.EXISTS=false,S.prototype.trim=function(t){return g.trim(t)},S.prototype.exists=function(t,e){var r;return 1!=arguments.length&&"object"==typeof t||(e=t,t=document),!!Sizzle(e,t)[0]},S.prototype.attr=function(t,e,r){try{"object"!=typeof t&&(r=e,e=t,t=document);var i=Sizzle(e,t)[0];return i?r?i.getAttribute(r)||i[r]||"":this.textContent(i):""}catch(n){return g.log.debug(n.message+" for "+e+" -- "+r),""}},S.prototype.textContent=function(t){return t&&(t.textContent||t.innerText)||""},S.prototype.queryParam=function(t){return this.tracker.urlParams[t]},S.prototype.regexRetrieve=function(t,e,r){var i=e.match(t),n;return(i?i[r]:"")||""},S.prototype.addCategory=function(page,t,e,r){"object"!=typeof page&&(r=e,e=t,t=page,page=this.data);var i={id:encodeURIComponent(t),url:encodeURIComponent(e)};r&&(i.title=encodeURIComponent(r)),page.categories=page.categories||[],page.categories.push(i)},S.prototype.addMetaAttribute=function(page,t,e){"object"!=typeof page&&(e=t,t=page,page=this.data);var r=e.toString().toLowerCase();page.meta=page.meta||{},page.meta[t]=encodeURIComponent(r)},S.prototype.addBubbledEventToElement=function(e,r,i){var n=this,t=function(t){g.bubbledMatchesSelector(t.target||t.srcElement,i)&&(r?n.tracker.push(e,n._expandPageData(r)):n.tracker.push(e))};this.bubbledEvents[i]=t,g.addListener(document.body,"click",t)},S.prototype.addEventToElement=function(t,e,r){this.tracker.elementEventPoller.add(t,e,r)},S.prototype.sendEvent=function(t,e){this.tracker.push(t,e)},S.prototype.waitForElements=function(r,t,i){var n=0,o=!1;if(i||"function"!=typeof t||(i=t,t=l),t=m<t?m:t,i){setTimeout(function(){o=!0},t);for(var e=0;e<r.length;e++){var a;!function(t){var e=setInterval(function(){o&&clearInterval(e),Sizzle(t)[0]&&(n++,clearInterval(e),n>=r.length&&i&&(i(),i=null))},h)}(r[e])}}},S.prototype.clearWebContentData=function(){this.tracker.webContent.clearSavedData=!0},S.prototype.disableWebContentPersonalization=function(){this.tracker.webContent.enableData=!1},S.prototype.enableKnownUserJailbreak=function(){this.tracker.enableKnownUserJailbreak()},S.prototype.setWebContentData=function(t){this.tracker.webContent.setCustomJsData(t)},S.prototype.setCompanyId=function(t){this.tracker.setCompanyId(t)},S.prototype.setCookieDomain=function(t){this.tracker.setCookieDomain(t)},S.prototype._expandPageData=function(t){var e={};for(var r in t)if(t.hasOwnProperty(r))if("function"==typeof t[r])try{e[r]=t[r]()}catch(i){e.js_error=i.toString(),g.log.error(i)}else e[r]=t[r];return e},S.prototype._getValidAttribute=function(t,e,r){var i=S.ATTRIBUTES[e];return e===t.type&&i&&0<=i.indexOf(r)&&t[r]||null},S.prototype._execute=function(){var exists=this.exists,textContent=this.textContent,waitForElements=this.waitForElements,regexRetrieve=this.regexRetrieve,t=g.bind,trim=t(this,this.trim),attr=t(this,this.attr),queryParam=t(this,this.queryParam),addCategory=t(this,this.addCategory),addMetaAttribute=t(this,this.addMetaAttribute),addBubbledEventToElement=t(this,this.addBubbledEventToElement),addEventToElement=t(this,this.addEventToElement),sendEvent=t(this,this.sendEvent),clearWebContentData=t(this,this.clearWebContentData),disableWebContentPersonalization=t(this,this.disableWebContentPersonalization),enableKnownUserJailbreak=t(this,this.enableKnownUserJailbreak),setWebContentData=t(this,this.setWebContentData),setCompanyId=t(this,this.setCompanyId),setCookieDomain=t(this,this.setCookieDomain),page=this.data={params:{}};this.clearBubbledEvents();try{}catch(e){page.js_error=e.toString(),g.log.error(e)}return this._expandPageData(page)},S.prototype.clearBubbledEvents=function(){for(selector in this.bubbledEvents)this.bubbledEvents.hasOwnProperty(selector)&&g.removeListener(document.body,"click",this.bubbledEvents[selector]);this.bubbledEvents={}},R.PREVIEW_PARAM="mi_preview",R.CONTAINER_ID_PARAM="mi_container_id",R.PARAM_PREFIX="_mi_save_",R.PARAM_PREFIX_LEN=R.PARAM_PREFIX.length,R.PARAM_MAX_KEY_LEN=50,R.PARAM_MAX_VAL_LEN=400,R.AFTER="after",R.BEFORE="before",R.REPLACE="replace",R.savableDataKey=function(t){return t.length-R.PARAM_PREFIX_LEN<=R.PARAM_MAX_KEY_LEN&&t.substring(0,9)===R.PARAM_PREFIX},R.parseDataCookie=function(t){var e=new y;if(!t)return e;var r=new y(t);for(var i in r)r.hasOwnProperty(i)&&(e[R.PARAM_PREFIX+i]=r[i]);return e},R.sortContainers=function(t){for(var e={},r=0;r<t.length;r++){var i=t[r],n=i.position,o=i.selector,a=i.blocks,s={};s[R.AFTER]=[],s[R.BEFORE]=[],s[R.REPLACE]=[];var c=e[o]||s;switch(n){case R.AFTER:c.after=a.reverse().concat(c.after);break;case R.BEFORE:c.before=c.before.concat(a);break;case R.REPLACE:c.replace.length||(c.replace=[a[0]]);break;default:break}e[o]=c}return e},R.stripParamPrefix=function(t){var e={},r=new RegExp("^"+R.PARAM_PREFIX);for(var i in t){var n;if(t.hasOwnProperty(i))e[i.replace(r,"")]=t[i]}return e},R.prototype.createDataCookie=function(){var t=(new Date).getTime()+e;g.storage.create(p.midat,this.encodeData(),t,this.tracker.cookieOptions.domain,this.tracker.cookieOptions.secure)},R.prototype.encodeData=function(){var t=R.stripParamPrefix(this.data);return y.prototype.encode.call(t)},R.prototype.getUrlParams=function(){var t={};for(var e in this.tracker.urlParams)this.tracker.urlParams.hasOwnProperty(e)&&R.savableDataKey(e)&&this.tracker.urlParams[e].length<=R.PARAM_MAX_VAL_LEN&&(t[e]=this.tracker.urlParams[e]);return t},R.prototype.findElements=function(){return Sizzle(".mi-web")},R.prototype.appendParams=function(t,e){var r=t.split("?"),i=this.enableData?this.data:{},n=this.populateMergeTags(new y(r[1]),i);return t=r[0],n.mi_u=this.tracker.userIdentifier,n.mi_open_id=this.billing.id,n[R.CONTAINER_ID_PARAM]=e,t+"?"+n.encode()},R.prototype.populateMergeTags=function(t,e){var r=/^\{mi\:([^:\s]+)\:(\S+)\}$/i;for(var i in t)if(t.hasOwnProperty(i)){var n,o=(n=t[i]).match(r);if(o){var a=o[1],s=o[2];switch(a){case"page":var c,n={url:document.location.origin+document.location.pathname}[s];this.setParamOrError(i,n,t,"Merge tag is invalid");break;case"queryparams":var n=this.tracker.urlParams[s];this.setParamOrError(i,n,t,"No query parameter for merge tag");break;case"sitemap":var p=s.split(":"),u=p[0],n;if("type"===u)n=this.tracker.customJsData.type||null;else{var s=p[1]||"";n=this.tracker.customJS._getValidAttribute(this.tracker.customJsData,u,s)}this.setParamOrError(i,n,t,"Invalid merge tag or missing data");break;case"storage":var n=e[s]||e[R.PARAM_PREFIX+s];this.setParamOrError(i,n,t,"No stored data for merge tag");break;default:t[i]="",g.log.error('Merge tag namespace "'+a+'" is invalid');break}}}return t},R.prototype.setParamOrError=function(t,e,r,i){e?r[t]=e:(g.log.error(r[t]+" was not populated: "+i),r[t]="")},R.prototype.insertBlocks=function(t,e){var r={};r[R.AFTER]="afterend",r[R.BEFORE]="beforebegin";var i=[R.AFTER,R.BEFORE,R.REPLACE],n=Sizzle(t)[0];if(n)for(var o=0;o<i.length;o++){var a=i[o],s=e[a];if(s.length)if(a===R.REPLACE){var c=s[0];n.parentNode.replaceChild(this.embedCodeFromBlockType(c),n)}else for(var p=0;p<s.length;p++){var c=s[p];n.insertAdjacentElement(r[a],this.embedCodeFromBlockType(c))}}},R.prototype.embedCodeFromBlockType=function(t){return"html"===t.type?this.createHtmlEmbedCode(t):this.createImageEmbedCode(t)},R.prototype.createImageEmbedCode=function(t){var e=document.createElement("img");if(g.setAttributes(e,{id:"mi-"+t.key,"class":"mi-web",alt:t.altText||"Display images to show real-time content",src:this.appendParams(t.image)}),t.clickthrough){var r=document.createElement("a");return e.setAttribute("style","border: 0;"),g.setAttributes(r,{href:this.appendParams(t.clickthrough),style:t.styles}),r.appendChild(e),r}return e.setAttribute("style",t.styles),e},R.prototype.createHtmlEmbedCode=function(t){var e=document.createElement("div");g.setAttributes(e,{"class":"mi-container",style:t.styles});var r=document.createElement("iframe"),i=["border: 0","position: absolute","height: 100%","width: 100%","left: 0","top: 0"].join(";")+";",n=g.createUUID();return g.setAttributes(r,{id:"mi-"+t.key,containerID:n,"class":"mi-web",src:this.appendParams(t.link,n),title:t.name,role:"document",style:i,sandbox:"allow-top-navigation allow-scripts"}),e.appendChild(r),e},R.prototype.populate=function(){this.populateDynamic(),this.populateStatic(),setInterval(g.bind(this,this.populateStatic),u)},R.prototype.populateDynamic=function(){if(!g.isSupportedBrowser||!this.enableDynamicInsertion)return g.log.error("Dynamic web content is not supported on this browser"),void 0;if(!this.enableDynamicInsertion)return g.log.error("Dynamic web content is not enabled on this browser"),void 0;var n=this,o=new XMLHttpRequest,t=new y({url:document.URL});this.isPreview&&(t.preview="true");var e=[x.DOMAINS.protocol,"://",x.DOMAINS.content,"/p/wc?",t.encode()].join("");g.addListener(window,"message",this.resizeContainer),g.addListener(o,"load",function(){try{var t=JSON.parse(o.responseText),e=R.sortContainers(t);for(var r in e)e.hasOwnProperty(r)&&n.insertBlocks(r,e[r])}catch(i){n.tracker.push("error",{omni_error:i.toString()}),g.log.error("Failed to parse web content reponse")}}),g.addListener(o,"error",function(){var t="Failed web content request"+e;n.tracker.push("error",{omni_error:t}),g.log.error(t)}),o.open("GET",e),o.send()},R.prototype.populateStatic=function(){var t=this.findElements();try{for(var e in t)if(t.hasOwnProperty(e)){var r=t[e],i=r.getAttribute("mi-src");if(!i)continue;var n=r.parentNode;n&&n.href&&(n.href=this.appendParams(n.href)),r.setAttribute("src",this.appendParams(i)),r.removeAttribute("mi-src"),r.style.display=""}}catch(o){this.tracker.push("error",{omni_error:o.toString()}),g.log.error(o)}},R.prototype.resizeContainer=function(t){if(t.data&&"mi_resize"===t.data.type&&t.data.containerID&&t.data.height)for(var e=Sizzle("iframe.mi-web"),r=0;r<e.length;r++){var i=e[r];if(i.getAttribute("containerID")===t.data.containerID){i.parentNode.style.height=t.data.height;break}}},R.prototype.setCustomJsData=function(t){if(g.cleanObject(t),!g.isEmptyObject(t)){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[R.PARAM_PREFIX+r]=t[r]);g.merge(this.customJsData,e)}},R.prototype.saveData=function(){this.clearSavedData?(g.storage.remove(p.midat,this.tracker.cookieOptions.domain,this.tracker.cookieOptions.secure),g.merge(this.data,this.urlData)):(g.merge(this.data,this.cookieData,this.customJsData,this.urlData),g.isEmptyObject(this.data)||this.createDataCookie())},x.EVENT_TYPES=["click","convert","conversion","cart_add","cart_remove","custom","pageview"],x.DOMAINS={"protocol":"https","tracking":"rs4gfjzf.micpn.com","content":"rs4gfjzf.mi-content.com","collector":"collector.micpn.com"},x.getLocalStorage=function(){var t={};if(!g.isSupportedBrowser)return t;for(var e in p)if(p.hasOwnProperty(e)){var r=p[e],i=window.localStorage.getItem(r);if(!i)continue;var n=g.storage.parseCookie(r+"="+i),o;if(new Date(n.expires)<=new Date){window.localStorage.removeItem(r);continue}t[r]=n.value}return t},x.getCookies=function(){var t={};if(""!==document.cookie)for(var e=document.cookie.split(";"),r=0;r<e.length;r++){var i=g.storage.parseCookie(e[r]);t[i.name]=i.value}return t},x.setup=function(){var t=new x;if(!t.trackingFunction.initialized){var e=t.trackingFunctionName;window[e]=function(){t.push.apply(t,arguments)},window[e].push=window[e],window[e].initialized=!0,t.init()}},x.validEventType=function(t){return-1!=x.EVENT_TYPES.indexOf(t)},x.prototype.init=function(){var t=this;if(this.userIdentifier=I(),this.companyId=a,this.previousUserIdentifier=null,this.optOut=!1,this.products=[],this.linked=!1,this.campaign=O(),this.cookies[p.micpn])try{this.campaign=C(this.cookies[p.micpn])}catch(o){this.push("error",{campaign_error:o.toString()}),g.log.error("Failed to parse campaign cookie")}this.cookies[p.optOut]&&(this.optOut=!0);var e=A(this.cookies[p.mibhv]);if(e&&(this.userIdentifier=e.user),e&&e.anonymous?this.previousUserIdentifier=e.user:this.previousUserIdentifier=this.userIdentifier,this.customJsData=this.customJS._execute(),this.customJsData&&"object"==typeof this.customJsData.params){var r=this.customJsData.params;for(var i in r)r.hasOwnProperty(i)&&r[i].length&&(this.urlParams[i]=r[i]);delete this.customJsData.params}if(this.urlParams.mi_u&&(this.userIdentifier=g.cleanUserIdentifier(this.urlParams.mi_u),w(this.userIdentifier,this.companyId,this.cookieOptions)),this.urlParams.mi_cmp||this.urlParams.mi_ecmp){var n=g.cleanCampaign(this.urlParams.mi_cmp||"-1").split("~");this.campaign.key=n[0],this.campaign.performImageId=n[1],this.campaign.deploymentTacticVersionId=n[2],this.campaign.tacticVersionId=n[3],this.campaign.tacticBlockId=n[4],this.campaign.tacticBlockItemIndex=n[5],this.campaign.appCanvasKey=n[6],this.campaign.tacticIsControl=n[7],this.campaign.espKey=this.urlParams.mi_ecmp||"",_(this.campaign,this.cookieOptions)}if(this.urlParams.mi_opt_out&&(this.optOut=!0),this.optOut)return g.storage.remove(p.mibhv,this.cookieOptions.domain,this.cookieOptions.secure),g.storage.remove(p.micpn,this.cookieOptions.domain,this.cookieOptions.secure),g.storage.remove(p.midat,this.cookieOptions.domain,this.cookieOptions.secure),E(this.cookieOptions),void 0;if(this.webContent.saveData(),this.webContent.populate(),this.sendPageEvents(),!this.urlParams.mi_cmp&&!this.urlParams.mi_ecmp||this.urlParams.mi_sc||this.push("click"),this.currentUrl=document.location.toString(),setInterval(function(){t.currentUrl!=document.location.toString()&&(t.currentUrl=document.location.toString(),t.urlParams=new y(document.location.search),t.customJsData=t.customJS._execute(),t.sendPageEvents())},u),this.elementEventPoller.start(),0<this.queue.length){g.log.debug("Loading "+this.queue.length+" queued events.");for(var i=0;i<this.queue.length;i++)this.push(this.queue[i])}g.log.debug("Initialized miconv.")},x.prototype.setCompanyId=function(t){this.companyId=t},x.prototype.setCookieDomain=function(t){this.cookieOptions.domain="."+t},x.prototype.enableKnownUserJailbreak=function(){this.knownUserJailbreak=!0},x.prototype.sendPageEvents=function(){S.EXISTS&&("custom"==this.customJsData.event_type?this.push("custom",this.customJsData):"conversion"==this.customJsData.type?this.push("conversion",this.customJsData):this.push("pageview",this.customJsData))},x.prototype.push=function(){if(!this.optOut){var t;if("send"===(t="string"==typeof arguments[0]?Array.prototype.slice.call(arguments,0):Array.prototype.slice.call(arguments[0],0))[0])t.shift();else{if("addProduct"===t[0])return this.products.push(t[1]),void 0;if("addPromo"===t[0])return t[1]&&(t[1].promo=!0),this.products.push(t[1]),void 0}var e=t[0],r;if(x.validEventType(e))if(r=t[1]===undefined?{amount:0}:"string"==typeof t[1]||"number"==typeof t[1]?{amount:t[1]}:t[1],"custom"===e||!r.type||S.ATTRIBUTES.hasOwnProperty(r.type)){var i=(r.amount||r.revenue||"").toString().replace(/[^0-9\.]/g,"");r.amount=parseFloat(i)||0;var n=t[2],o=this.campaign.timestamp.getTime(),a=new y({t:(new Date).getTime(),u:document.URL,mi_u:this.userIdentifier,mi_cid:this.companyId,page_title:document.title,referrer:document.referrer||document.referer,timezone_offset:(new Date).getTimezoneOffset(),event_type:e,conversion_id:n,cdate:o,products:this.products.length?this.products:null,mi_ecmp:this.campaign.espKey,mi_piid:this.campaign.performImageId,mi_dtvid:this.campaign.deploymentTacticVersionId,mi_tvid:this.campaign.tacticVersionId,mi_tbid:this.campaign.tacticBlockId,mi_tbii:this.campaign.tacticBlockItemIndex,mi_ack:this.campaign.appCanvasKey,mi_tctl:this.campaign.tacticIsControl});P(this.userIdentifier)&&(a.anon=!0),(!a.anon&&P(this.previousUserIdentifier)||D(this.previousUserIdentifier,this.userIdentifier,this.knownUserJailbreak))&&e.match(/^cart_add|cart_remove|pageview|conver(sion|t)|custom/)&&!this.linked&&(a.link=this.previousUserIdentifier,this.linked=!0),g.merge(a,r),"custom"===e?this.sendCustomEventData(a):this.sendData(a),this.previousUserIdentifier=null,w(this.userIdentifier,this.companyId,this.cookieOptions),e.match(/^conver(sion|t)/)?this.products=[]:!this.campaign.espKey&&"-1"===this.campaign.key||_(this.campaign,this.cookieOptions)}}},x.prototype.sendCustomEventData=function(t){if(!navigator.sendBeacon)return g.log.error("Beacon API is not supported in this browser"),void 0;var e=[x.DOMAINS.protocol,"://",x.DOMAINS.collector,n].join(""),r={company_id:parseInt(t.mi_cid),type:t.event_type,event:t.type,timestamp:t.t,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,properties:t.properties?t.properties:{}},i;t.anon?r.anonymous_id=t.mi_u:r.user_id=t.mi_u,navigator.sendBeacon(e,JSON.stringify(r))?g.log.debug("Successfully sent a custom event"):g.log.error("Failed to send custom event")},x.prototype.sendData=function(t){var e=this.campaign.key,r=[x.DOMAINS.protocol,"://",x.DOMAINS.tracking,i,e,"/track.gif"].join("");r+="?"+t.encode(),g.log.debug("Constructed URL: "+r),this.loadImage(r,function(){g.log.debug("Pushed event: "+e+" : "+t.event_type+", "+r)},function(){g.log.debug("Failed event: "+e+" : "+t.event_type+", "+r)})},x.prototype.loadImage=function(t,e,r){var i=new Image(1,1);i.onload=function(){e(),i.onload=null},i.onerror=function(){r(),i.onerror=null},i.src=t},document.prerendering?document.addEventListener("prerenderingchange",x.setup,{once:!0}):x.setup()}();